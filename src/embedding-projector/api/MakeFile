.PHONY: run dev test clean install

# 開発用サーバー起動
run:
    uvicorn app:app --host 0.0.0.0 --port 8000 --reload

# 本番用サーバー起動
prod:
    uvicorn app:app --host 0.0.0.0 --port 8000

# テスト実行
test:
    python test/uploadTest.py

# 依存関係インストール
install:
    pip install -r requirements.txt

# キャッシュクリア
clean:
    rm -rf __pycache__
    rm -rf .pytest_cache
    rm -f test.csv

# すべて（インストール→起動）
all: install run